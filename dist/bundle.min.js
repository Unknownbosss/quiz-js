/*! For license information please see bundle.min.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./src/main.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _quiz_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./quiz.js */ \"./src/quiz.js\");\n\nconst url = '../dist/question.json';\nfetch(url).then(response => response.json()).then(quiz => {\n  _quiz_js__WEBPACK_IMPORTED_MODULE_0__.view.start.addEventListener('click', () => _quiz_js__WEBPACK_IMPORTED_MODULE_0__.game.start(quiz.questions), false);\n});\n_quiz_js__WEBPACK_IMPORTED_MODULE_0__.view.response.addEventListener(\"click\", event => _quiz_js__WEBPACK_IMPORTED_MODULE_0__.game.check(event), false);\n_quiz_js__WEBPACK_IMPORTED_MODULE_0__.game.getData();\n\n//# sourceURL=webpack://quiz-ninja/./src/main.js?")},"./src/quiz.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   game: () => (/* binding */ game),\n/* harmony export */   view: () => (/* binding */ view)\n/* harmony export */ });\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities.js */ "./src/utilities.js");\n\nconst view = {\n  start: document.getElementById("start"),\n  timer: document.querySelector("#timer strong"),\n  score: document.querySelector("#score strong"),\n  highScore: document.querySelector("#hiScore strong"),\n  question: document.getElementById("question"),\n  result: document.getElementById("result"),\n  info: document.getElementById("info"),\n  response: document.querySelector("#response"),\n  render(target, content, attributes) {\n    for (const key in attributes) {\n      target.setAttribute(key, attributes[key]);\n    }\n    target.innerHTML = content;\n  },\n  show(element) {\n    element.style.display = "block";\n  },\n  hide(element) {\n    element.style.display = "none";\n  },\n  setup() {\n    this.show(this.question);\n    this.show(this.response);\n    this.show(this.result);\n    this.hide(this.start);\n    this.render(this.score, game.score);\n    this.render(this.result, "");\n    this.render(this.info, "");\n  },\n  teardown() {\n    this.hide(this.question);\n    this.hide(this.response);\n    this.show(this.start);\n  },\n  buttons(array) {\n    return array.map(value => `<button>${value}</button>`).join(\'\');\n  }\n};\nconst game = {\n  score: 0,\n  previousScore: parseInt(localStorage.getItem(\'highScore\')) || 0,\n  currentScore: 0,\n  start(quiz) {\n    console.log("start() invoked");\n    this.questions = [...quiz];\n    view.setup();\n    this.ask();\n    this.secondsRemaining = 30;\n    this.timer = setInterval(this.countdown, 1000);\n  },\n  countdown() {\n    game.secondsRemaining--;\n    view.render(view.timer, game.secondsRemaining);\n    if (game.secondsRemaining === 0) {\n      game.gameOver();\n    } else if (game.secondsRemaining < 6) {\n      view.timer.style.color = \'red\';\n    } else {\n      view.timer.style.color = \'inherit\';\n    }\n  },\n  ask(name) {\n    console.log("ask() invoked");\n    if (this.questions.length > 2) {\n      (0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.shuffle)(this.questions);\n      this.question = this.questions.pop();\n      const options = [this.questions[0].realName, this.questions[2].realName, this.questions[1].realName, this.question.realName];\n      (0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.shuffle)(options);\n      const question = `What is ${this.question.name}\'s real name?`;\n      view.render(view.question, question);\n      view.render(view.response, view.buttons(options));\n    } else {\n      this.gameOver();\n    }\n  },\n  check(event) {\n    console.log("check(event) invoked");\n    const response = event.target.textContent;\n    const answer = this.question.realName;\n    if (response === answer) {\n      view.render(view.result, "Correct!", {\n        class: "correct"\n      });\n      this.score++;\n      view.render(view.score, this.score);\n    } else {\n      view.render(view.result, `Wrong! The correct answer was ${answer}`, {\n        class: "wrong"\n      });\n    }\n    this.ask();\n  },\n  gameOver() {\n    console.log("gameOver() invoked");\n    view.render(view.info, `Game Over, you scored ${this.score} point${this.score === 1 || this.score === 0 ? " " : "s"}`);\n    view.teardown();\n    view.show(view.start);\n    clearInterval(this.timer);\n    this.saveData();\n    this.score = 0;\n  },\n  saveData() {\n    this.currentScore = this.score;\n    if (this.currentScore > this.previousScore || this.previousScore === 0) {\n      this.previousScore = this.currentScore;\n      localStorage.setItem(\'highScore\', this.currentScore);\n    }\n    this.getData();\n  },\n  getData() {\n    console.log(`previous score is ${this.previousScore}`);\n    view.render(view.highScore, this.previousScore);\n  }\n};\n\n\n//# sourceURL=webpack://quiz-ninja/./src/quiz.js?')},"./src/utilities.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   random: () => (/* binding */ random),\n/* harmony export */   shuffle: () => (/* binding */ shuffle)\n/* harmony export */ });\nfunction random(a, b = 1) {\n  // if only 1 argument is provided, we need to swap the values of a and b\n  if (b === 1) {\n    [a, b] = [b, a];\n  }\n  return Math.floor((b - a + 1) * Math.random()) + a;\n}\nfunction shuffle(array) {\n  for (let i = array.length; i; i--) {\n    let j = random(i) - 1;\n    [array[i - 1], array[j]] = [array[j], array[i - 1]];\n  }\n}\n\n\n//# sourceURL=webpack://quiz-ninja/./src/utilities.js?")}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/main.js")})();